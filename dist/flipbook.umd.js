(function(o,P){typeof exports=="object"&&typeof module!="undefined"?module.exports=P(require("vue"),require("rematrix")):typeof define=="function"&&define.amd?define(["vue","rematrix"],P):(o=typeof globalThis!="undefined"?globalThis:o||self,o["vue3-flipbook-ts"]=P(o.Vue,o.rematrix))})(this,function(o,P){"use strict";class Y{constructor(i){Object.defineProperty(this,"m",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i?i.m?this.m=[...Array.from(i.m)]:this.m=[...Array.from(i)]:this.m=P.identity()}clone(){return new Y(this)}multiply(i){return this.m=P.multiply(this.m,i)}perspective(i){return this.multiply(P.perspective(i))}transformX(i){return(i*this.m[0]+this.m[12])/(i*this.m[3]+this.m[15])}translate(i,c){return this.multiply(P.translate(i,c))}translate3d(i,c,e){return this.multiply(P.translate3d(i,c,e))}rotateY(i){return this.multiply(P.rotateY(i))}toString(){return P.toString(this.m)}}var pe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNTAwIiBoZWlnaHQ9IjUwMCIgdmlld0JveD0iMCAwIDUwMCA1MDAiIGZpbGw9InRyYW5zcGFyZW50IiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjogI2ZmZiI+CiAgPGNpcmNsZQogICAgY3g9IjI1MCIKICAgIGN5PSIyNTAiCiAgICByPSI0OCIKICAgIHN0cm9rZT0iIzMzMyIKICAgIHN0cm9rZS13aWR0aD0iMiIKICAgIHN0cm9rZS1kYXNoYXJyYXk9IjI3MSAzMCIKICA+CiAgICA8YW5pbWF0ZVRyYW5zZm9ybQogICAgICBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iCiAgICAgIGF0dHJpYnV0ZVR5cGU9IlhNTCIKICAgICAgdHlwZT0icm90YXRlIgogICAgICBmcm9tPSIwIDI1MCAyNTAiCiAgICAgIHRvPSIzNjAgMjUwIDI1MCIKICAgICAgZHVyPSIxcyIKICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiCiAgICAvPgogIDwvY2lyY2xlPgo8L3N2Zz4K",rt="",he=(t,i)=>{const c=t.__vccOpts||t;for(const[e,T]of i)c[e]=T;return c};const ee=t=>Math.pow(t,2),Pe=t=>1-ee(1-t),te=function(t){return t<.5?ee(t*2)/2:.5+Pe((t-.5)*2)/2},ye=o.defineComponent({name:"FlipBook",props:{pages:{type:Array,required:!0},pagesHiRes:{type:Array,default(){return[]}},zooms:{type:Array,default:()=>[1,2,4]},clickToZoom:{type:Boolean,default:!0},dragToFlip:{type:Boolean,default:!0},flipDuration:{type:Number,default:1e3},zoomDuration:{type:Number,default:500},perspective:{type:Number,default:2400},nPolygons:{type:Number,default:10},ambient:{type:Number,default:.4},gloss:{type:Number,default:.6},swipeMin:{type:Number,default:3},singlePage:{type:Boolean,default:!1},centering:{type:Boolean,default:!0},startPage:{type:Number,default:null},loadingImage:{type:String,default:null},forwardDirection:{type:String,validator:t=>t==="right"||t==="left",default:()=>"right"}},emits:["flip-left-start","flip-left-end","flip-right-start","flip-right-end","zoom-end","zoom-start"],setup(t,i){const c=o.ref(),e=o.reactive({viewWidth:0,viewHeight:0,imageWidth:null,imageHeight:null,displayedPages:1,nImageLoad:0,nImageLoadTrigger:0,imageLoadCallback:null,currentPage:0,firstPage:0,secondPage:1,zoomIndex:0,zoom:1,zooming:!1,touchStartX:null,touchStartY:null,maxMove:0,activeCursor:null,hasTouchEvents:!1,hasPointerEvents:!1,minX:1/0,maxX:-1/0,preloadedImages:{},flip:{progress:0,direction:null,frontImage:null,backImage:null,auto:!1,opacity:1},currentCenterOffset:0,animatingCenter:!1,startScrollLeft:0,startScrollTop:0,scrollLeft:0,scrollTop:0,loadedImages:{}}),T=o.computed(()=>t.forwardDirection==="left"?Z.value:ne.value),F=o.computed(()=>t.forwardDirection==="right"?Z.value:ne.value),l=o.computed(()=>!e.zooming&&e.zoomIndex<M.value.length-1),z=o.computed(()=>!e.zooming&&e.zoomIndex>0),N=o.computed(()=>t.pages[0]===null?t.pages.length-1:t.pages.length),L=o.computed(()=>t.pages[0]!==null?e.currentPage+1:Math.max(1,e.currentPage)),M=o.computed(()=>t.zooms||[1]),Z=o.computed(()=>!e.flip.direction&&e.currentPage<t.pages.length-e.displayedPages),ne=o.computed(()=>!e.flip.direction&&e.currentPage>=e.displayedPages&&!(e.displayedPages===1&&!p(e.firstPage-1))),$=o.computed(()=>t.forwardDirection==="right"||e.displayedPages===1?e.firstPage:e.secondPage),V=o.computed(()=>t.forwardDirection==="left"?e.firstPage:e.secondPage),ze=o.computed(()=>p($.value)),be=o.computed(()=>p(V.value)&&e.displayedPages===2),Ce=o.computed(()=>e.activeCursor?e.activeCursor:t.clickToZoom&&l.value?"zoom-in":t.clickToZoom&&z.value?"zoom-out":t.dragToFlip?"grab":"auto"),oe=o.computed(()=>{const r=e.viewWidth/e.displayedPages/e.imageWidth,a=e.viewHeight/e.imageHeight,u=r<a?r:a;return u<1?u:1}),m=o.computed(()=>Math.round(e.imageWidth*oe.value)),b=o.computed(()=>Math.round(e.imageHeight*oe.value)),v=o.computed(()=>(e.viewWidth-m.value*e.displayedPages)/2),S=o.computed(()=>(e.viewHeight-b.value)/2),Te=o.computed(()=>{let n=m.value/t.nPolygons;return n=Math.ceil(n+1/e.zoom),n+"px"}),Le=o.computed(()=>b.value+"px"),Se=o.computed(()=>`${m.value}px ${b.value}px`),We=o.computed(()=>ie("front").concat(ie("back"))),C=o.computed(()=>{if(e.displayedPages===1)return v.value;{const n=p($.value)?v.value:e.viewWidth/2;return n<e.minX?n:e.minX}}),A=o.computed(()=>{if(e.displayedPages===1)return e.viewWidth-v.value;{const n=p(V.value)?e.viewWidth-v.value:e.viewWidth/2;return n>e.maxX?n:e.maxX}}),B=o.computed(()=>{const n=t.centering?Math.round(e.viewWidth/2-(C.value+A.value)/2):0;return e.currentCenterOffset===null&&e.imageWidth!==null&&(e.currentCenterOffset=n),n}),D=o.computed(()=>Math.round(e.currentCenterOffset)),U=o.computed(()=>!e.hasTouchEvents),ke=o.computed(()=>{const n=(A.value-C.value)*e.zoom;return n<e.viewWidth?(C.value+D.value)*e.zoom-(e.viewWidth-n)/2:(C.value+D.value)*e.zoom}),Ae=o.computed(()=>{const n=(A.value-C.value)*e.zoom;return n<e.viewWidth?(C.value+D.value)*e.zoom-(e.viewWidth-n)/2:(A.value+D.value)*e.zoom-e.viewWidth}),De=o.computed(()=>{const n=b.value*e.zoom;return n<e.viewHeight?S.value*e.zoom-(e.viewHeight-n)/2:S.value*e.zoom}),Ee=o.computed(()=>{const n=b.value*e.zoom;return n<e.viewHeight?S.value*e.zoom-(e.viewHeight-n)/2:(S.value+b.value)*e.zoom-e.viewHeight}),He=o.computed(()=>Math.min(Ae.value,Math.max(ke.value,e.scrollLeft))),Xe=o.computed(()=>Math.min(Ee.value,Math.max(De.value,e.scrollTop)));o.onMounted(()=>{window.addEventListener("resize",G,{passive:!0}),G(),e.zoom=M.value[0],se(t.startPage)}),o.onBeforeUnmount(()=>window.removeEventListener("resize",G));const G=()=>{if(!!c.value)return e.viewWidth=c.value.clientWidth,e.viewHeight=c.value.clientHeight,e.displayedPages=e.viewWidth>e.viewHeight&&!t.singlePage?2:1,e.displayedPages===2&&(e.currentPage&=-2),Fe(),e.minX=1/0,e.maxX=-1/0},Fe=()=>{if(e.displayedPages===1&&e.currentPage===0&&t.pages.length&&!p(0))return e.currentPage++},p=(n,r)=>{if(r===void 0&&(r=!1),r&&e.zoom>1&&!e.zooming){const a=t.pagesHiRes[n];if(a)return a}return t.pages[n]||null},re=(n,r)=>{r===void 0&&(r=!1);const a=p(n,r);return r&&e.zoom>1&&!e.zooming?a:a&&ue(a)},Ne=()=>{if(!!T.value)return O("left",!0)},Ze=()=>{if(!!F.value)return O("right",!0)},ie=n=>{let r;if(!e.flip.direction)return[];let{progress:a}=e.flip,{direction:u}=e.flip;e.displayedPages===1&&u!==t.forwardDirection&&(a=1-a,u=t.forwardDirection),e.flip.opacity=e.displayedPages===1&&a>.7?1-(a-.7)/.3:1;const g=n==="front"?e.flip.frontImage:e.flip.backImage,d=m.value/t.nPolygons;let s=v.value,f=!1;e.displayedPages===1?t.forwardDirection==="right"?n==="back"&&(f=!0,s=v.value-m.value):u==="left"?n==="back"?s=m.value-v.value:f=!0:n==="front"?s=m.value-v.value:f=!0:u==="left"?n==="back"?s=e.viewWidth/2:f=!0:n==="front"?s=e.viewWidth/2:f=!0;const y=new Y;y.translate(e.viewWidth/2),y.perspective(t.perspective),y.translate(-e.viewWidth/2),y.translate(s,S.value);let I=0;a>.5&&(I=-(a-.5)*2*180),u==="left"&&(I=-I),n==="back"&&(I+=180),I&&(f&&y.translate(m.value),y.rotateY(I),f&&y.translate(-m.value)),a<.5?r=a*2*Math.PI:r=(1-(a-.5)*2)*Math.PI,r===0&&(r=1e-9);const E=m.value/r;let H=0;const W=r/t.nPolygons;let w=W/2/Math.PI*180,h=W/Math.PI*180;return f&&(w=-r/Math.PI*180+h/2),n==="back"&&(w=-w,h=-h),e.minX=1/0,e.maxX=-1/0,(()=>{const ge=[];for(let k=0,x=t.nPolygons,ce=0<=x;ce?k<x:k>x;ce?k++:k--){const nt=`${k/(t.nPolygons-1)*100}% 0px`,X=y.clone(),de=f?r-H:H;let _=Math.sin(de)*E;f&&(_=m.value-_);let R=(1-Math.cos(de))*E;n==="back"&&(R=-R),X.translate3d(_,0,R),X.rotateY(-w);const fe=X.transformX(0),me=X.transformX(d);e.maxX=Math.max(Math.max(fe,me),e.maxX),e.minX=Math.min(Math.min(fe,me),e.minX);const ot=Be(I-w,h);H+=W,w+=h,ge.push([n+k,g,ot,nt,X.toString(),Math.abs(Math.round(R))])}return ge})()},Be=(n,r)=>{const a=[],u=[-.5,-.25,0,.25,.5];if(t.ambient<1){const g=1-t.ambient,d=u.map(s=>(1-Math.cos((n-r*s)/180*Math.PI))*g);a.push(`linear-gradient(to right,
    rgba(0, 0, 0, ${d[0]}),
    rgba(0, 0, 0, ${d[1]}) 25%,
    rgba(0, 0, 0, ${d[2]}) 50%,
    rgba(0, 0, 0, ${d[3]}) 75%,
    rgba(0, 0, 0, ${d[4]}))`)}if(t.gloss>0){const s=u.map(f=>Math.max(Math.pow(Math.cos((n+30-r*f)/180*Math.PI),200),Math.pow(Math.cos((n-30-r*f)/180*Math.PI),200)));a.push(`linear-gradient(to right,
    rgba(255, 255, 255, ${s[0]*t.gloss}),
    rgba(255, 255, 255, ${s[1]*t.gloss}) 25%,
    rgba(255, 255, 255, ${s[2]*t.gloss}) 50%,
    rgba(255, 255, 255, ${s[3]*t.gloss}) 75%,
    rgba(255, 255, 255, ${s[4]*t.gloss}))`)}return a.join(",")},O=(n,r)=>(n!==t.forwardDirection?e.displayedPages===1?(e.flip.frontImage=p(e.currentPage-1),e.flip.backImage=null):(e.flip.frontImage=p(e.firstPage),e.flip.backImage=p(e.currentPage-e.displayedPages+1)):e.displayedPages===1?(e.flip.frontImage=p(e.currentPage),e.flip.backImage=null):(e.flip.frontImage=p(e.secondPage),e.flip.backImage=p(e.currentPage+e.displayedPages)),e.flip.direction=n,e.flip.progress=0,requestAnimationFrame(()=>requestAnimationFrame(()=>{if(e.flip.direction!==t.forwardDirection?e.displayedPages===2&&(e.firstPage=e.currentPage-e.displayedPages):e.displayedPages===1?e.firstPage=e.currentPage+e.displayedPages:e.secondPage=e.currentPage+1+e.displayedPages,r)return ae(!0)}))),ae=n=>{const r=Date.now(),a=t.flipDuration*(1-e.flip.progress),u=e.flip.progress;e.flip.auto=!0,i.emit(`flip-${e.flip.direction}-start`,L.value);const g=()=>requestAnimationFrame(()=>{const d=Date.now()-r;let s=u+d/a;return s>1&&(s=1),e.flip.progress=n?te(s):s,s<1?g():(e.flip.direction!==t.forwardDirection?e.currentPage-=e.displayedPages:e.currentPage+=e.displayedPages,i.emit(`flip-${e.flip.direction}-end`,L.value),e.displayedPages===1&&e.flip.direction===t.forwardDirection?e.flip.direction=null:le(1,()=>e.flip.direction=null),e.flip.auto=!1)});return g()},Oe=()=>{const n=Date.now(),r=t.flipDuration*e.flip.progress,a=e.flip.progress;e.flip.auto=!0;const u=()=>requestAnimationFrame(()=>{const g=Date.now()-n;let d=a-a*g/r;return d<0&&(d=0),e.flip.progress=d,d>0?u():(e.firstPage=e.currentPage,e.secondPage=e.currentPage+1,e.displayedPages===1&&e.flip.direction!==t.forwardDirection?e.flip.direction=null:le(1,()=>e.flip.direction=null),e.flip.auto=!1)});return u()},le=(n,r)=>(e.nImageLoad=0,e.nImageLoadTrigger=n,e.imageLoadCallback=r),Re=n=>{if(e.imageWidth===null&&(e.imageWidth=n.target.naturalWidth,e.imageHeight=n.target.naturalHeight,Q()),!!e.imageLoadCallback&&++e.nImageLoad>=e.nImageLoadTrigger)return e.imageLoadCallback(),e.imageLoadCallback=null},Ye=()=>{if(!!l.value)return e.zoomIndex+=1,j(M.value[e.zoomIndex])},$e=()=>{if(!!z.value)return e.zoomIndex-=1,j(M.value[e.zoomIndex])},j=(n,r,a)=>{const u=e.zoom,g=n,d=c.value.scrollLeft,s=c.value.scrollTop;r||(r=c.value.clientWidth/2),a||(a=c.value.clientHeight/2);const f=r+d,y=a+s,I=f/u*g-r,E=y/u*g-a,H=Date.now();e.zooming=!0,i.emit("zoom-start",n);const W=()=>requestAnimationFrame(()=>{const w=Date.now()-H;let h=w/t.zoomDuration;return h>1&&(h=1),h=te(h),e.zoom=u+(g-u)*h,e.scrollLeft=d+(I-d)*h,e.scrollTop=s+(E-s)*h,w<t.zoomDuration?W():(i.emit("zoom-end",n),e.zooming=!1,e.zoom=n,e.scrollLeft=I,e.scrollTop=E)});if(W(),g>1)return Q(!0)},Ve=n=>{const r=c.value.getBoundingClientRect(),a=n.pageX-r.left,u=n.pageY-r.top;return e.zoomIndex=(e.zoomIndex+1)%M.value.length,j(M.value[e.zoomIndex],a,u)},q=n=>{if(e.touchStartX=n.pageX,e.touchStartY=n.pageY,e.maxMove=0,e.zoom<=1){if(t.dragToFlip)return e.activeCursor="grab"}else return e.startScrollLeft=c.value.scrollLeft,e.startScrollTop=c.value.scrollTop,e.activeCursor="all-scroll"},K=n=>{if(e.touchStartX==null||!t.dragToFlip)return;const r=n.pageX-e.touchStartX,a=n.pageY-e.touchStartY;if(e.maxMove=Math.max(e.maxMove,Math.abs(r)),e.maxMove=Math.max(e.maxMove,Math.abs(a)),e.zoom>1){U.value&&et(r,a);return}if(!(Math.abs(a)>Math.abs(r)))return e.activeCursor="grabbing",r>0?(e.flip.direction===null&&T.value&&r>=t.swipeMin&&O("left",!1),e.flip.direction==="left"&&(e.flip.progress=r/m.value,e.flip.progress>1&&(e.flip.progress=1))):(e.flip.direction===null&&F.value&&r<=-t.swipeMin&&O("right",!1),e.flip.direction==="right"&&(e.flip.progress=-r/m.value,e.flip.progress>1&&(e.flip.progress=1))),!0},J=n=>{if(e.touchStartX!=null)return t.clickToZoom&&e.maxMove<t.swipeMin&&Ve(n),e.flip.direction!==null&&!e.flip.auto&&(e.flip.progress>1/4?ae(!1):Oe()),e.touchStartX=null,e.activeCursor=null},Ue=n=>(e.hasTouchEvents=!0,q(n.changedTouches[0])),Ge=n=>{if(K(n.changedTouches[0])&&n.cancelable)return n.preventDefault()},je=n=>J(n.changedTouches[0]),qe=n=>{if(e.hasPointerEvents=!0,!e.hasTouchEvents&&!(n.button&&n.button!==1)){q(n);try{return n.target.setPointerCapture(n.pointerId)}catch{console.warn("Target element to capture not found")}}},Ke=n=>{if(!e.hasTouchEvents)return K(n)},Je=n=>{if(!e.hasTouchEvents){J(n);try{return n.target.releasePointerCapture(n.pointerId)}catch{console.warn("Target element to release capture not found")}}},Qe=n=>{e.hasTouchEvents||e.hasPointerEvents||n.button&&n.button!==1||q(n)},xe=n=>{if(!e.hasTouchEvents&&!e.hasPointerEvents)return K(n)},_e=n=>{if(!e.hasTouchEvents&&!e.hasPointerEvents)return J(n)},et=(n,r)=>(e.scrollLeft=e.startScrollLeft-n,e.scrollTop=e.startScrollTop-r),tt=n=>{if(e.zoom>1&&U.value&&(e.scrollLeft=c.value.scrollLeft+n.deltaX,e.scrollTop=c.value.scrollTop+n.deltaY,n.cancelable))return n.preventDefault()},Q=n=>{let r,a,u,g;for(n===void 0&&(n=!1),u=e.currentPage-3,g=u,a=e.currentPage+3,r=u<=a;r?g<=a:g>=a;r?g++:g--)re(g);if(n){let d,s;for(g=e.currentPage,s=e.currentPage+e.displayedPages,d=e.currentPage<=s;d?g<s:g>s;d?g++:g--){const f=t.pagesHiRes[g];f&&(new Image().src=f)}}},se=n=>{if(!(n===null||n===L.value))return t.pages[0]===null?e.displayedPages===2&&n===1?e.currentPage=0:e.currentPage=n:e.currentPage=n-1,e.minX=1/0,e.maxX=-1/0,e.currentCenterOffset=B.value},ue=n=>{if(e.imageWidth===null)return n;if(e.loadedImages[n])return n;{const r=new Image;return r.onload=()=>e.loadedImages[n]=!0,r.src=n,pe}};return o.watch(()=>e.currentPage,()=>(e.firstPage=e.currentPage,e.secondPage=e.currentPage+1,Q())),o.watch(B,()=>{if(e.animatingCenter)return;const n=()=>requestAnimationFrame(()=>{const a=B.value-e.currentCenterOffset;return Math.abs(a)<.5?(e.currentCenterOffset=B.value,e.animatingCenter=!1):(e.currentCenterOffset+=a*.1,n())});return e.animatingCenter=!0,n()}),o.watch(He,n=>c.value.scrollLeft=n),o.watch(Xe,n=>c.value.scrollTop=n),o.watch(()=>t.startPage,n=>se(n)),{...o.toRefs(e),canFlipLeft:T,canFlipRight:F,canZoomIn:l,canZoomOut:z,page:L,numPages:N,flipLeft:Ne,flipRight:Ze,zoomIn:Ye,zoomOut:$e,pageWidth:m,pageHeight:b,xMargin:v,yMargin:S,polygonWidth:Te,polygonHeight:Le,polygonBgSize:Se,polygonArray:We,showLeftPage:ze,showRightPage:be,cursor:Ce,dragToScroll:U,centerOffsetSmoothed:D,boundingLeft:C,boundingRight:A,rightPage:V,leftPage:$,onTouchMove:Ge,onPointerMove:Ke,onMouseMove:xe,onTouchEnd:je,onPointerUp:Je,onMouseUp:_e,onWheel:tt,loadImage:ue,pageUrlLoading:re,didLoadImage:Re,onTouchStart:Ue,onPointerDown:qe,onMouseDown:Qe,viewport:c}}}),Ie=["src"],ve=["src"];function we(t,i,c,e,T,F){return o.openBlock(),o.createElementBlock("div",null,[o.renderSlot(t.$slots,"default",o.normalizeProps(o.guardReactiveProps({canFlipLeft:t.canFlipLeft,canFlipRight:t.canFlipRight,canZoomIn:t.canZoomIn,canZoomOut:t.canZoomOut,page:t.page,numPages:t.numPages,flipLeft:t.flipLeft,flipRight:t.flipRight,zoomIn:t.zoomIn,zoomOut:t.zoomOut})),void 0,!0),o.createElementVNode("div",{ref:"viewport",class:o.normalizeClass(["viewport",{zoom:t.zooming||t.zoom>1,"drag-to-scroll":t.dragToScroll}]),style:o.normalizeStyle({cursor:t.cursor==="grabbing"?"grabbing":"auto"}),onTouchmove:i[7]||(i[7]=(...l)=>t.onTouchMove&&t.onTouchMove(...l)),onPointermove:i[8]||(i[8]=(...l)=>t.onPointerMove&&t.onPointerMove(...l)),onMousemove:i[9]||(i[9]=(...l)=>t.onMouseMove&&t.onMouseMove(...l)),onTouchend:i[10]||(i[10]=(...l)=>t.onTouchEnd&&t.onTouchEnd(...l)),onTouchcancel:i[11]||(i[11]=(...l)=>t.onTouchEnd&&t.onTouchEnd(...l)),onPointerup:i[12]||(i[12]=(...l)=>t.onPointerUp&&t.onPointerUp(...l)),onPointercancel:i[13]||(i[13]=(...l)=>t.onPointerUp&&t.onPointerUp(...l)),onMouseup:i[14]||(i[14]=(...l)=>t.onMouseUp&&t.onMouseUp(...l)),onWheel:i[15]||(i[15]=(...l)=>t.onWheel&&t.onWheel(...l))},[o.createElementVNode("div",{class:"flipbook-container",style:o.normalizeStyle({transform:`scale(${t.zoom})`})},[o.createElementVNode("div",{class:"click-to-flip left",style:o.normalizeStyle({cursor:t.canFlipLeft?"pointer":"auto"}),onClick:i[0]||(i[0]=(...l)=>t.flipLeft&&t.flipLeft(...l))},null,4),o.createElementVNode("div",{class:"click-to-flip right",style:o.normalizeStyle({cursor:t.canFlipRight?"pointer":"auto"}),onClick:i[1]||(i[1]=(...l)=>t.flipRight&&t.flipRight(...l))},null,4),o.createElementVNode("div",{style:o.normalizeStyle({transform:`translateX(${t.centerOffsetSmoothed}px)`})},[t.showLeftPage?(o.openBlock(),o.createElementBlock("img",{key:0,class:"page fixed",style:o.normalizeStyle({width:t.pageWidth+"px",height:t.pageHeight+"px",left:t.xMargin+"px",top:t.yMargin+"px"}),src:t.pageUrlLoading(t.leftPage,!0),onLoad:i[2]||(i[2]=l=>t.didLoadImage(l))},null,44,Ie)):o.createCommentVNode("",!0),t.showRightPage?(o.openBlock(),o.createElementBlock("img",{key:1,class:"page fixed",style:o.normalizeStyle({width:t.pageWidth+"px",height:t.pageHeight+"px",left:t.viewWidth/2+"px",top:t.yMargin+"px"}),src:t.pageUrlLoading(t.rightPage,!0),onLoad:i[3]||(i[3]=l=>t.didLoadImage(l))},null,44,ve)):o.createCommentVNode("",!0),o.createElementVNode("div",{style:o.normalizeStyle({opacity:t.flip.opacity})},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(t.polygonArray,([l,z,N,L,M,Z])=>(o.openBlock(),o.createElementBlock("div",{key:l,class:o.normalizeClass(["polygon",{blank:!z}]),style:o.normalizeStyle({backgroundImage:z&&`url(${t.loadImage(z)})`,backgroundSize:t.polygonBgSize,backgroundPosition:L,width:t.polygonWidth,height:t.polygonHeight,transform:M,zIndex:Z})},[o.withDirectives(o.createElementVNode("div",{class:"lighting",style:o.normalizeStyle({backgroundImage:N})},null,4),[[o.vShow,N.length]])],6))),128))],4),o.createElementVNode("div",{class:"bounding-box",style:o.normalizeStyle({left:t.boundingLeft+"px",top:t.yMargin+"px",width:t.boundingRight-t.boundingLeft+"px",height:t.pageHeight+"px",cursor:t.cursor}),onTouchstart:i[4]||(i[4]=(...l)=>t.onTouchStart&&t.onTouchStart(...l)),onPointerdown:i[5]||(i[5]=(...l)=>t.onPointerDown&&t.onPointerDown(...l)),onMousedown:i[6]||(i[6]=(...l)=>t.onMouseDown&&t.onMouseDown(...l))},null,36)],4)],4)],38)])}var Me=he(ye,[["render",we],["__scopeId","data-v-07323c7e"]]);return Me});
//# sourceMappingURL=flipbook.umd.js.map
